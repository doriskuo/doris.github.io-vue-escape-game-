<!-- ä»£è¡¨çµ„ä»¶ä¸­æ‰€æœ‰JavaSvriptç¨‹å¼ç¢¼ -->
<script setup>
import Chapterone from "./chapterone/Chapterone.vue";
import Chaptertwo from "./chaptertwo/Chaptertwo.vue";
import Opening from "./Opening.vue";
import { ref } from "vue";
const currentChapter = ref("opening");

function handleFinished() {
  currentChapter.value = "chapterone";
}
function chtwoHandler() {
  currentChapter.value = "chaptertwo";
}

function getComponent(chapter) {
  switch (chapter) {
    case "opening":
      return Opening;
    case "chapterone":
      return Chapterone;
    case "chaptertwo":
      return Chaptertwo;
  }
}
</script>

<!-- ä»£è¡¨çµ„ä»¶ä¸­æ‰€æœ‰htmlçµæ§‹ -->
<template>
  <div class="container">
    <!-- ðŸ”¹ ä¿®æ”¹ï¼šç”¨ <component> å‹•æ…‹åˆ‡æ›ç« ç¯€ -->
    <transition name="fade" mode="out-in">
      <component
        :is="getComponent(currentChapter)"
        :key="currentChapter"
        @finished="handleFinished"
        @isChtwo="chtwoHandler"
      />
    </transition>
  </div>
</template>

<!-- ä»£è¡¨ç‚ºçµ„ä»¶ä¸­htmlè¨­å®šçš„CSSæ¨£å¼ -->
<style lang="sass" scoped>
.container

  border: 3px solid gray
  width: 100vw
  height: 80vh
  box-sizing: border-box
  background: black
  overflow: hidden

.fade-leave-active
  transition: opacity 3s ease
.fade-enter-active
  transition: opacity 3s ease

.fade-leave-to,.fade-enter-from
  opacity: 0
</style>
